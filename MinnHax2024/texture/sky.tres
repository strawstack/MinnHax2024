[gd_resource type="VisualShader" load_steps=18 format=3 uid="uid://d32t88eel2xsm"]

[ext_resource type="Script" path="res://addons/shaderV/rgba/noise/simplex3d.gd" id="1_pv0ee"]

[sub_resource type="VisualShaderNodeVectorDecompose" id="VisualShaderNodeVectorDecompose_ghbou"]

[sub_resource type="VisualShaderNodeVectorFunc" id="VisualShaderNodeVectorFunc_0ll1y"]

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_e1oqb"]
op_type = 0

[sub_resource type="VisualShaderNodeCustom" id="VisualShaderNodeCustom_syw4b"]
default_input_values = [1, Vector3(0, 0, 0), 2, 10.0, 3, 0.0]
initialized = true
script = ExtResource("1_pv0ee")

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_wuc6i"]
default_input_values = [0, 0.0, 1, 10.0]
operator = 2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_rlmlt"]
input_name = "eyedir"

[sub_resource type="VisualShaderNodeIf" id="VisualShaderNodeIf_hku3j"]
default_input_values = [0, 0.0, 1, 0.5, 2, 1e-05, 3, Vector3(0, 0, 0), 4, Vector3(0, 0, 0), 5, Vector3(0, 0, 0)]

[sub_resource type="VisualShaderNodeColorConstant" id="VisualShaderNodeColorConstant_jneqj"]
constant = Color(0.388988, 0.00027473, 0.446391, 1)

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_6ecjv"]
input_name = "time"

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_mpr6g"]
function = 0

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_crr2f"]
default_input_values = [0, 0.0, 1, 1.0]

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_m63i5"]
default_input_values = [0, 0.0, 1, 2.0]
operator = 3

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_h3iia"]
default_input_values = [0, 0.0, 1, 60.0]
operator = 3

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_fqcp8"]
default_input_values = [0, 0.0, 1, 2.0]

[sub_resource type="VisualShaderNodeColorOp" id="VisualShaderNodeColorOp_up3fy"]
operator = 4

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_8u1gy"]
input_name = "eyedir"

[resource]
code = "shader_type sky;


// SimplexNoise3D
#include \"res://addons/shaderV/rgba/noise/simplex3d.gdshaderinc\"

void sky() {
// Input:23
	vec3 n_out23p0 = EYEDIR;


// VectorFunc:18
	vec3 n_out18p0 = normalize(n_out23p0);


// VectorDecompose:17
	float n_out17p0 = n_out18p0.x;
	float n_out17p1 = n_out18p0.y;
	float n_out17p2 = n_out18p0.z;


// VectorCompose:19
	vec2 n_out19p0 = vec2(n_out17p0, n_out17p1);


// Input:29
	float n_out29p0 = TIME;


// FloatOp:33
	float n_in33p1 = 60.00000;
	float n_out33p0 = n_out29p0 / n_in33p1;


// FloatFunc:30
	float n_out30p0 = sin(n_out33p0);


// FloatOp:31
	float n_in31p1 = 1.00000;
	float n_out31p0 = n_out30p0 + n_in31p1;


// FloatOp:32
	float n_in32p1 = 2.00000;
	float n_out32p0 = n_out31p0 / n_in32p1;


// FloatOp:34
	float n_in34p1 = 2.00000;
	float n_out34p0 = n_out32p0 + n_in34p1;


// FloatOp:21
	float n_out21p0 = n_out17p2 * n_out34p0;


	float n_out20p0;
// SimplexNoise3D:20
	vec3 n_in20p1 = vec3(0.00000, 0.00000, 0.00000);
	{
		n_out20p0 = _simplex3dNoiseFunc(vec3((vec3(n_out19p0, 0.0).xy + n_in20p1.xy) * n_out34p0, n_out21p0));
	}


// Input:36
	vec3 n_out36p0 = EYEDIR;


// ColorConstant:28
	vec4 n_out28p0 = vec4(0.388988, 0.000275, 0.446391, 1.000000);


	vec3 n_out27p0;
// If:27
	float n_in27p1 = 0.50000;
	float n_in27p2 = 0.00001;
	if(abs(n_out20p0 - n_in27p1) < n_in27p2)
	{
		n_out27p0 = n_out36p0;
	}
	else if(n_out20p0 < n_in27p1)
	{
		n_out27p0 = vec3(n_out28p0.xyz);
	}
	else
	{
		n_out27p0 = n_out36p0;
	}


	vec3 n_out35p0;
// ColorOp:35
	{
		float base = n_out27p0.x;
		float blend = vec3(n_out20p0).x;
		if (base < 0.5) {
			n_out35p0.x = 2.0 * base * blend;
		} else {
			n_out35p0.x = 1.0 - 2.0 * (1.0 - blend) * (1.0 - base);
		}
	}
	{
		float base = n_out27p0.y;
		float blend = vec3(n_out20p0).y;
		if (base < 0.5) {
			n_out35p0.y = 2.0 * base * blend;
		} else {
			n_out35p0.y = 1.0 - 2.0 * (1.0 - blend) * (1.0 - base);
		}
	}
	{
		float base = n_out27p0.z;
		float blend = vec3(n_out20p0).z;
		if (base < 0.5) {
			n_out35p0.z = 2.0 * base * blend;
		} else {
			n_out35p0.z = 1.0 - 2.0 * (1.0 - blend) * (1.0 - base);
		}
	}


// Output:0
	COLOR = n_out35p0;


}
"
graph_offset = Vector2(-185.38, -309.457)
mode = 3
flags/use_half_res_pass = false
flags/use_quarter_res_pass = false
flags/disable_fog = false
flags/use_debanding = false
nodes/sky/0/position = Vector2(2100, 120)
nodes/sky/17/node = SubResource("VisualShaderNodeVectorDecompose_ghbou")
nodes/sky/17/position = Vector2(780, 80)
nodes/sky/18/node = SubResource("VisualShaderNodeVectorFunc_0ll1y")
nodes/sky/18/position = Vector2(580, 40)
nodes/sky/19/node = SubResource("VisualShaderNodeVectorCompose_e1oqb")
nodes/sky/19/position = Vector2(1040, 40)
nodes/sky/20/node = SubResource("VisualShaderNodeCustom_syw4b")
nodes/sky/20/position = Vector2(1220, 200)
nodes/sky/21/node = SubResource("VisualShaderNodeFloatOp_wuc6i")
nodes/sky/21/position = Vector2(980, 200)
nodes/sky/23/node = SubResource("VisualShaderNodeInput_rlmlt")
nodes/sky/23/position = Vector2(300, 60)
nodes/sky/27/node = SubResource("VisualShaderNodeIf_hku3j")
nodes/sky/27/position = Vector2(1620, 20)
nodes/sky/28/node = SubResource("VisualShaderNodeColorConstant_jneqj")
nodes/sky/28/position = Vector2(840, -160)
nodes/sky/29/node = SubResource("VisualShaderNodeInput_6ecjv")
nodes/sky/29/position = Vector2(-160, 500)
nodes/sky/30/node = SubResource("VisualShaderNodeFloatFunc_mpr6g")
nodes/sky/30/position = Vector2(260, 480)
nodes/sky/31/node = SubResource("VisualShaderNodeFloatOp_crr2f")
nodes/sky/31/position = Vector2(480, 440)
nodes/sky/32/node = SubResource("VisualShaderNodeFloatOp_m63i5")
nodes/sky/32/position = Vector2(640, 460)
nodes/sky/33/node = SubResource("VisualShaderNodeFloatOp_h3iia")
nodes/sky/33/position = Vector2(100, 500)
nodes/sky/34/node = SubResource("VisualShaderNodeFloatOp_fqcp8")
nodes/sky/34/position = Vector2(800, 500)
nodes/sky/35/node = SubResource("VisualShaderNodeColorOp_up3fy")
nodes/sky/35/position = Vector2(1860, 140)
nodes/sky/36/node = SubResource("VisualShaderNodeInput_8u1gy")
nodes/sky/36/position = Vector2(1180, -160)
nodes/sky/connections = PackedInt32Array(19, 0, 20, 0, 17, 0, 19, 0, 17, 1, 19, 1, 17, 2, 21, 0, 23, 0, 18, 0, 18, 0, 17, 0, 28, 0, 27, 5, 20, 0, 27, 0, 30, 0, 31, 0, 31, 0, 32, 0, 29, 0, 33, 0, 33, 0, 30, 0, 32, 0, 34, 0, 27, 0, 35, 0, 35, 0, 0, 0, 20, 0, 35, 1, 34, 0, 21, 1, 34, 0, 20, 2, 21, 0, 20, 3, 36, 0, 27, 3, 36, 0, 27, 4)
